<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README.rdoc</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README.rdoc</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README.rdoc
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Mon Jan 05 13:58:46 -0500 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>harvest</h1>
<p>
A ruby library wrapping (most of) the <a
href="../classes/Harvest.html">Harvest</a> Api.
</p>
<h2>DESCRIPTION:</h2>
<p>
This library uses ActiveResource and activeresource_throttle to provide
simple, reliable access to the <a
href="../classes/Harvest.html">Harvest</a> Api. Good for building reporting
scripts and simple apps.
</p>
<p>
Note that this library does not support the complete <a
href="../classes/Harvest.html">Harvest</a> Api at this time. See
Features/Issues below for details.
</p>
<h2>USAGE:</h2>
<h3>Creating a new harvest object:</h3>
<p>
All calls to the <a href="../classes/Harvest.html">Harvest</a> API will
originate from a <a href="../classes/Harvest.html">Harvest</a> object.
Initialize it like so:
</p>
<pre>
  @harvest = Harvest(:email      =&gt; &quot;joe@example.com&quot;,
                     :password   =&gt; &quot;secret&quot;,
                     :sub_domain =&gt; &quot;joeandcompany&quot;,
                     :headers    =&gt; {&quot;User-Agent&quot; =&gt; &quot;MyCompany&quot;})
</pre>
<p>
The <em>headers</em> argument is optional.
</p>
<h3>Clients</h3>
<p>
Index
</p>
<pre>
  @harvest.clients.find(:all)
</pre>
<p>
Show
</p>
<pre>
  @harvest.clients.find(43235)
</pre>
<p>
Create
</p>
<pre>
  @client = @harvest.clients.new
  @client.attributes = {:name =&gt; &quot;Company, LLC&quot;, :details =&gt; &quot;New York, NY&quot;}
  @client.save
</pre>
<p>
Update
</p>
<pre>
  @client.first_name = &quot;Smith&quot;
  @client.save
</pre>
<p>
Destroy
</p>
<pre>
  @client.destroy
</pre>
<p>
Toggle (Active/Inactive)
</p>
<pre>
  @client.toggle
</pre>
<h3>Tasks</h3>
<p>
Index
</p>
<pre>
  @harvest.tasks.find(:all)
</pre>
<p>
Show
</p>
<pre>
  @harvest.tasks.find(123)
</pre>
<p>
Create
</p>
<pre>
  @task = @harvest.tasks.new
  @task.attributes = {:name =&gt; &quot;Meeting&quot;,   :billable_by_default =&gt; false,
                      :is_default =&gt; false, :default_hourly_rate =&gt; 100}
  @task.save
</pre>
<p>
Update
</p>
<pre>
  @task.name = &quot;Client Meeting&quot;
  @task.save
</pre>
<p>
Destroy
</p>
<pre>
  @task.destroy
</pre>
<h3>People</h3>
<p>
Index
</p>
<pre>
  @harvest.people.find(:all)
</pre>
<p>
Show
</p>
<pre>
  @harvest.people.find(123)
</pre>
<h3>Projects</h3>
<p>
Index
</p>
<pre>
  @harvest.projects.find(:all)
</pre>
<p>
Show
</p>
<pre>
  @harvest.projects.find(123)
</pre>
<p>
Create
</p>
<pre>
  @project = @harvest.projects.new
  @project.attributes = {:name =&gt; &quot;Refactor&quot;, :active =&gt; true,
                         :bill_by =&gt; &quot;None&quot;, :client_id =&gt; @client.id, }
  @project.save
</pre>
<p>
Update
</p>
<pre>
  @project.name = &quot;Mega-Refactor&quot;
  @project.save
</pre>
<p>
Destroy
</p>
<pre>
  @project.destroy
</pre>
<p>
Toggle (Active/Inactive)
</p>
<pre>
  @project.toggle
</pre>
<h4>User and Task Assignments</h4>
<pre>
  @project.users.find(:all)
  @project.users.find(:first)

  @project.tasks.find(:all)
  @project.tasks.find(:first)
</pre>
<h3>Reports</h3>
<pre>
  @project.entries(:from =&gt; Time.now, :to =&gt; Time.now)
  @project.entries(:from =&gt; Time.now, :to =&gt; Time.now, :user_id =&gt; @person.id)

  @person.entries(:from =&gt; Time.now, :to =&gt; Time.now)
  @person.expenses(:from =&gt; Time.now, :to =&gt; Time.now)
</pre>
<h2>FEATURES/PROBLEMS:</h2>
<p>
Supports most of the <a href="../classes/Harvest.html">Harvest</a> Api (<a
href="http://www.getharvest.com/api">www.getharvest.com/api</a>).
</p>
<p>
Though RESTful, the <a href="../classes/Harvest.html">Harvest</a> Api does
not entirely follow ActiveResource conventions. In order to support the
complete API, certain customizations will be required. <b>We welcome any
contributions/modifications to help complete this Api.</b>
</p>
<p>
The following Api features are incomplete due to incompatibilities with
ActiveResource conventions (CRUD actions in parentheses):
</p>
<ol>
<li>People (CUD)

</li>
<li>User &amp; Task Assignments (CUD)

</li>
<li>Expenses (CUD)

</li>
</ol>
<p>
In addition, the following have not been implemented at all due to time
constraints:
</p>
<ol>
<li>Time Tracking Api

</li>
<li>Invoices, Invoice Payments, Invoice Categories, and Invoice Messages

</li>
</ol>
<p>
Expect a more complete library in the near future. Again, contributions are
welcome.
</p>
<h2>TEST SUITE</h2>
<p>
This library includes a fairly thorough set of unit and integration tests.
The unit tests can be run with the &quot;rake&quot; command.
</p>
<p>
The integration tests require a <a
href="../classes/Harvest.html">Harvest</a> account. It is best to use a
trial account when running these tests.
</p>
<p>
The credentials may be entered in test/test_helper.rb. To run the
integration suite:
</p>
<pre>
  rake test:integration
</pre>
<p>
Note that the integration test structure is somewhat unorthodox, as it
requires tests to run in a particular order. The main test file is
test/integration/harvest_integration_test.rb. Examine this to see how the
integration suite works.
</p>
<h2>REQUIREMENTS:</h2>
<p>
Requires active_resource &gt;= 2.1 and activeresource_throttle &gt;= 1.0.
</p>
<p>
active_resource_throttle should install automaticallt, but just in case you
need to install manually:
</p>
<pre>
  gem sources -a http://gems.github.com
  sudo gem install aiaio-active_resource_throttle
</pre>
<h2>INSTALL:</h2>
<pre>
  gem sources -a http://gems.github.com
  gem install aiaio-harvest
</pre>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>